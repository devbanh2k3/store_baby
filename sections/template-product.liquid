<div class="product-template">
  <div class="product-gallery">
    <div class="main-image">
      <img src="{{ product.images.src }}" alt="{{ product.title }}" id="main-product-image">
    </div>
    <div class="thumbnail-images">
      {% for image in product.images %}
        <img src="{{ image.src }}" alt="{{ product.title }}" class="thumbnail" onclick="changeMainImage('{{ image.src }}')">
      {% endfor %}
    </div>
  </div>

  <div class="product-details">
    <h1>{{ product.title }}</h1>
    <p class="price">{{ product.price | money }}</p>

    <div class="variants">
      <label for="variant-select">Choose a variant:</label>
      <select id="variant-select" onchange="updatePrice()">
        {% for variant in product.variants %}
          <option value="{{ variant.id }}" data-price="{{ variant.price }}">{{ variant.title }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="quantity">
      <label for="quantity">Quantity:</label>
      <input type="number" id="quantity" value="1" min="1">
    </div>

    <button class="btn add-to-cart" onclick="addToCart()">Add to Cart</button>
    <button class="btn buy-now" onclick="buyNow()">Buy Now</button>
  </div>

  <div class="product-description">
    <h2>Description</h2>
    <p>{{ product.description }}</p>
  </div>

  <div class="shipping-info">
    <h2>Shipping Information</h2>
    <p>Thông tin về giao hàng...</p>
  </div>

  <div class="reviews">
    <h2>Reviews</h2>
    <div class="review-list">
      {% for review in product.reviews %}
        <div class="review">
          <p><strong>{{ review.author }}</strong>: {{ review.content }}</p>
          <p>Rating: {{ review.rating }}</p>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

<script>
  function changeMainImage(src) {
    document.getElementById('main-product-image').src = src;
  }

  function updatePrice() {
    const selectedVariant = document.getElementById('variant-select');
    const priceElement = document.querySelector('.price');
    const selectedPrice = selectedVariant.options[selectedVariant.selectedIndex].dataset.price;
    priceElement.textContent = Shopify.formatMoney(selectedPrice);
  }

  function addToCart() {
    // Logic to add the product to the cart
  }

  function buyNow() {
    // Logic to buy the product immediately
  }
</script>

<style>
  .product-template {
    display: flex;
    margin: 20px;
  }
  .product-gallery {
    flex: 1;
    margin-right: 20px;
  }
  .main-image img {
    width: 100%;
    max-height: 500px;
    object-fit: cover;
  }
  .thumbnail-images {
    display: flex;
    margin-top: 10px;
  }
  .thumbnail {
    width: 80px;
    margin-right: 10px;
    cursor: pointer;
  }
  .product-details {
    flex: 1;
  }
  .btn {
    display: block;
    margin-top: 15px;
    padding: 10px;
    background-color: #007bff;
    color: white;
    border: none;
    cursor: pointer;
  }
  .btn:hover {
    background-color: #0056b3;
  }
</style>
